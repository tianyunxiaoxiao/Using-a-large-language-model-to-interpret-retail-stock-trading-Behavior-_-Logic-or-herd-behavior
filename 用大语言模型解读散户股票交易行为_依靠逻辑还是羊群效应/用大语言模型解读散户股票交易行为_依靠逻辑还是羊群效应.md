# ç”¨å¤§è¯­è¨€æ¨¡å‹è§£è¯»æ•£æˆ·è‚¡ç¥¨äº¤æ˜“è¡Œä¸ºï¼šä¾é é€»è¾‘è¿˜æ˜¯ç¾Šç¾¤æ•ˆåº”ï¼Ÿ

åŸåˆ› é‡åŒ–å‰æ²¿ 

[LLMQuant](javascript:void(0);)

 *2024å¹´10æœˆ30æ—¥ 06:58* *è‹±å›½*

![null](https://mmbiz.qpic.cn/sz_mmbiz_gif/qBzr3KbhAjgfRUUbDDqpWe6fgiaw9Z1ZPPGRib8IZR09XKu3dcVYQhHybuowf6Z6FJT0VGrTodpcUnvYuqcDAMsw/640?wx_fmt=gif&from=appmsg&wxfrom=13)

# ç”¨å¤§è¯­è¨€æ¨¡å‹è§£è¯»æ•£æˆ·è‚¡ç¥¨äº¤æ˜“è¡Œä¸ºï¼šä¾é é€»è¾‘è¿˜æ˜¯ç¾Šç¾¤æ•ˆåº”ï¼Ÿ

![å›¾ç‰‡](https://mmbiz.qpic.cn/sz_mmbiz_png/qBzr3KbhAjgfRUUbDDqpWe6fgiaw9Z1ZPBcvU4ND350ELa8XWjOO2SQhUgkksG400sYHa4iabdBzymvLFHWoFp5Q/640?wx_fmt=png&from=appmsg&wxfrom=13)

## æ‘˜è¦

è¿‘å¹´æ¥ï¼Œ**æ•£æˆ·æŠ•èµ„è€…**åœ¨é‡‘èå¸‚åœºä¸­çš„è§’è‰²å†æ¬¡å¼•èµ·äº†å¹¿æ³›å…³æ³¨ã€‚**é‡‘èç§‘æŠ€**ç»çºªå¹³å°å’ŒRedditç­‰**ç¤¾äº¤åª’ä½“**çš„å…´èµ·ï¼Œåˆºæ¿€äº†æ•£æˆ·æŠ•èµ„è€…å¯¹è‚¡ç¥¨å¸‚åœºçš„å‚ä¸åº¦ã€‚è¿™ä¸€è¶‹åŠ¿å¼•å‘äº†å…³äºä»–ä»¬**å†³ç­–è¿‡ç¨‹**åŠå…¶**äº¤æ˜“æ´»åŠ¨å½±å“**çš„é‡è¦é—®é¢˜ã€‚åŒæ—¶ï¼Œè®¸å¤šé‡‘èç§‘æŠ€ç»çºªå…¬å¸å‚ä¸**è®¢å•æµæ”¯ä»˜ï¼ˆPayment for Order Flowï¼ŒPFOFï¼‰**ï¼Œå°†å¤§é‡æ•£æˆ·äº¤æ˜“å¼•å¯¼è‡³æ‹¥æœ‰å¼ºå¤§**AIé©±åŠ¨çš„é«˜é¢‘äº¤æ˜“**å…¬å¸ã€‚è¿™ç§åŠ¨æ€ä¸ºæ”¿ç­–åˆ¶å®šè€…å¸¦æ¥äº†æ–°çš„**ç›‘ç®¡æŒ‘æˆ˜**ï¼Œç‰¹åˆ«æ˜¯å…³äºAIå¯¹é‡‘èå¸‚åœºçš„å½±å“ï¼Œä»¥åŠAIé©±åŠ¨çš„äº¤æ˜“è€…å¦‚ä½•ä¸æ•£æˆ·æŠ•èµ„è€…äº’åŠ¨ã€‚

æœ¬æ–‡æ—¨åœ¨é€šè¿‡åˆ†ææ•£æˆ·æŠ•èµ„è€…é‡‡ç”¨çš„**ç­–ç•¥**åŠå…¶ä¸**AIé©±åŠ¨ç­–ç•¥**çš„äº’åŠ¨ï¼Œä¸ºä»–ä»¬çš„**è¡Œä¸º**å’Œ**å½±å“**æä¾›æ–°çš„è§è§£ã€‚ç”±äºæ•£æˆ·æŠ•èµ„è€…å…·æœ‰å¤šæ ·æ€§å’Œç¤¾ä¼šç»æµèƒŒæ™¯çš„å¼‚è´¨æ€§ï¼Œæç»˜ä»–ä»¬çš„**æŠ•èµ„ç­–ç•¥**å…·æœ‰æŒ‘æˆ˜æ€§ã€‚è¿‘æœŸæ–‡çŒ®ä¸­ä¸€ä¸ªæœ‰å‰æ™¯çš„è¶‹åŠ¿æ˜¯é€šè¿‡**è°ƒæŸ¥**æ¥è·å–æŠ•èµ„è€…çš„ä¿¡å¿µã€‚ç„¶è€Œï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ›¿ä»£æ–¹æ³•ï¼Œåˆ©ç”¨**å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLarge Language Modelsï¼Œ\**LLMs\**ï¼‰** åˆ†ææŠ•èµ„è€…åœ¨é¢†å…ˆçš„ç¤¾äº¤åª’ä½“å¹³å°ä¸Šå‘å¸ƒçš„è¶…è¿‡7700ä¸‡æ¡ä¿¡æ¯ä¸­çš„**äº¤æ˜“ç­–ç•¥**ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ¨æ–­æ•£æˆ·æŠ•èµ„è€…ä½¿ç”¨çš„äº¤æ˜“ç­–ç•¥ï¼Œè¯†åˆ«å½±å“è¿™äº›ç­–ç•¥çš„å› ç´ ï¼Œå¹¶æ¢è®¨å…¶å¯¹é‡‘èå¸‚åœºçš„å½±å“ã€‚

æœ¬æ–‡ç ”ç©¶å‘ç°ï¼Œæ¶‰åŠ**æŠ€æœ¯åˆ†æï¼ˆTechnical Analysisï¼Œ\**TA\**ï¼‰** çœ‹æ¶¨æƒ…ç»ªçš„è‚¡ç¥¨å¾€å¾€æœªæ¥æ”¶ç›Šè¾ƒä½ï¼Œå¹¶ä¸”åœ¨Robinhoodå¹³å°ä¸Šæ›´å®¹æ˜“å‡ºç° **ä¹°å…¥ç¾Šç¾¤è¡Œä¸ºï¼ˆherdingï¼‰** ã€‚ç›¸åï¼Œä»**åŸºæœ¬é¢åˆ†æï¼ˆFundamental Analysisï¼Œ\**FA\**ï¼‰** ç›¸å…³å¸–å­ä¸­æå–çš„æƒ…ç»ªå¯ä»¥æ­£å‘é¢„æµ‹æœªæ¥æ”¶ç›Šã€‚æ›´é¢‘ç¹çš„TAå¸–å­ä¸ **æ•£æˆ·è®¢å•æµ** çš„ä¿¡æ¯å«é‡è¾ƒä½ç›¸å…³ï¼Œè€ŒFAå¸–å­åˆ™ä¸è®¢å•æµä¿¡æ¯å«é‡æ­£ç›¸å…³ã€‚è¿›ä¸€æ­¥çš„ç ”ç©¶æ˜¾ç¤ºï¼Œç¤¾äº¤åª’ä½“ä¸Šçš„TAæƒ…ç»ªå¾€å¾€ä¸æœ€å…ˆè¿›çš„åŸºäºAIçš„æŠ€æœ¯ç­–ç•¥äº§ç”Ÿçš„ä¿¡å·ç›¸çŸ›ç›¾ï¼ŒAIç­–ç•¥çš„ç›ˆåˆ©ä¸»è¦æºäºåˆ©ç”¨TAæƒ…ç»ªã€‚

**å…³é”®è¯**ï¼šAIã€å¤§å‹è¯­è¨€æ¨¡å‹ã€ç¤¾äº¤åª’ä½“ã€æ•£æˆ·æŠ•èµ„è€…ã€ç¾Šç¾¤è¡Œä¸ºã€æŠ€æœ¯åˆ†æã€åŸºæœ¬é¢åˆ†æ

------

## æ•°æ®

æˆ‘ä»¬ä½¿ç”¨2012å¹´è‡³2022å¹´é—´åœ¨NYSEã€AMEXå’ŒNASDAQäº¤æ˜“çš„ç¾å›½**æ™®é€šè‚¡**ï¼ˆSHRCD=10æˆ–11ï¼‰ä½œä¸ºæ ·æœ¬ã€‚æˆ‘ä»¬ä»**StockTwits**è·å–æŠ•èµ„è€…ç¤¾äº¤åª’ä½“æ•°æ®ï¼Œä»**CRSP**è·å–è‚¡ç¥¨æ•°æ®ï¼Œå¹¶ä»åˆå¹¶çš„**CRSP-Compustat**æ•°æ®åº“è·å–å…¶ä»–ä¼šè®¡å’Œè´¢åŠ¡æŠ¥è¡¨å˜é‡ã€‚

### StockTwitsæ•°æ®

StockTwitsæ˜¯é¢†å…ˆçš„**æŠ•èµ„è€…ç¤¾äº¤åª’ä½“å¹³å°**ï¼Œä¾›æ•£æˆ·æŠ•èµ„è€…åˆ†äº«ä»–ä»¬å¯¹**è‚¡ç¥¨**ã€**ETF**å’Œ**åŠ å¯†è´§å¸**çš„çœ‹æ³•å’Œæƒ³æ³•ã€‚ç±»ä¼¼äºTwitterï¼ŒStockTwitsç”¨æˆ·å¯ä»¥å‘å¸ƒçŸ­æ¶ˆæ¯ï¼Œæœ€åˆé™åˆ¶ä¸º140ä¸ªå­—ç¬¦ï¼Œ2019å¹´5æœˆ8æ—¥åæ‰©å±•ä¸º1000ä¸ªå­—ç¬¦ã€‚

æˆ‘ä»¬ä½¿ç”¨StockTwitsçš„APIï¼Œä¸‹è½½äº†2012å¹´è‡³2022å¹´é—´948,867åç”¨æˆ·å‘å¸ƒçš„157,674,830æ¡æ¶ˆæ¯ã€‚æˆ‘ä»¬è·å¾—äº†æ¶ˆæ¯çº§åˆ«çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚**æ—¶é—´æˆ³**ã€**å†…å®¹**ï¼Œä»¥åŠç”¨æˆ·è‡ªè¡Œæ ‡è®°çš„**æƒ…ç»ª**â€œçœ‹æ¶¨ï¼ˆbullishï¼‰â€æˆ–â€œçœ‹è·Œï¼ˆbearishï¼‰â€ã€‚åœ¨ç”¨æˆ·å±‚é¢ï¼Œæˆ‘ä»¬è·å¾—äº†ç”¨æˆ·ç‰¹å¾ï¼Œå¦‚**äº¤æ˜“é£æ ¼**ï¼ˆæŠ€æœ¯ã€åŠ¨é‡ã€åŸºæœ¬é¢ã€ä»·å€¼ã€æˆé•¿ã€å…¨çƒå®è§‚ï¼‰ã€**æŠ•èµ„æœŸé™**ï¼ˆæ—¥å†…äº¤æ˜“è€…ã€æ³¢æ®µäº¤æ˜“è€…ã€å¤´å¯¸äº¤æ˜“è€…ã€é•¿æœŸæŠ•èµ„è€…ï¼‰å’Œäº¤æ˜“ **ç»éªŒæ°´å¹³**ï¼ˆæ–°æ‰‹ã€ä¸­çº§ã€ä¸“ä¸šï¼‰ã€‚

![å›¾ç‰‡](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### è¯†åˆ«æ¶ˆæ¯ä¸­çš„äº¤æ˜“ç­–ç•¥

æˆ‘ä»¬åˆ©ç”¨**å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰**ï¼Œé¦–å…ˆè§£è¯»æ¶ˆæ¯å†…å®¹ä¸­ä¼ è¾¾çš„ç­–ç•¥ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬è¯†åˆ«ä¸**æŠ€æœ¯åˆ†æï¼ˆ\**TA\**ï¼‰**ã€**åŸºæœ¬é¢åˆ†æï¼ˆ\**FA\**ï¼‰\**ç›¸å…³çš„æ¶ˆæ¯ï¼Œä»¥åŠå…¶ä»–\**æŠ•èµ„ç­–ç•¥**çš„æ¶ˆæ¯ã€‚

#### å®Œæ•´ä»£ç å¤ç°

ä¸ºäº†å®Œæ•´åœ°å¤ç°è®ºæ–‡çš„ä»£ç ï¼Œæˆ‘ä»¬å°†ä»¥ä¸‹æ­¥éª¤æ•´åˆåˆ°ä¸€ä»½å®Œæ•´çš„ä»£ç ä¸­ï¼š

1. 1. **æ•°æ®åŠ è½½å’Œé¢„å¤„ç†**ï¼šåŠ è½½StockTwitsæ•°æ®ï¼Œå¹¶è¿›è¡Œåˆæ­¥æ¸…æ´—å’Œè¿‡æ»¤ã€‚
2. 2. **æ¶ˆæ¯åˆ†ç±»**ï¼šä½¿ç”¨LLMsï¼ˆå¦‚GPT-4ï¼‰å¯¹æ¶ˆæ¯è¿›è¡Œç­–ç•¥åˆ†ç±»ï¼ˆTAã€FAã€å…¶ä»–ï¼‰ã€‚
3. 3. **æ¨¡å‹å¾®è°ƒ**ï¼šåˆ©ç”¨GPT-4ç”Ÿæˆçš„æ ‡ç­¾ï¼Œå¾®è°ƒä¸€ä¸ªBERTæ¨¡å‹ï¼ˆå¦‚TechBERTï¼‰ä»¥è¿›è¡Œå¤§è§„æ¨¡æ¶ˆæ¯åˆ†ç±»ã€‚
4. 4. **æƒ…ç»ªåˆ†æ**ï¼šæå–æ¶ˆæ¯çš„æƒ…ç»ªï¼ˆçœ‹æ¶¨æˆ–çœ‹è·Œï¼‰ã€‚
5. 5. **å›å½’åˆ†æ**ï¼šç ”ç©¶ä¸åŒç­–ç•¥æƒ…ç»ªä¸æœªæ¥è‚¡ç¥¨æ”¶ç›Šçš„å…³ç³»ï¼Œä»¥åŠä¸æ•£æˆ·è®¢å•æµçš„å…³ç³»ã€‚

### è¯†åˆ«æ¶ˆæ¯ä¸­çš„äº¤æ˜“ç­–ç•¥

#### æŠ€æœ¯åˆ†ææ¶ˆæ¯çš„è¯†åˆ«

æˆ‘ä»¬é¦–å…ˆä½¿ç”¨GPT-4å¯¹æ¶ˆæ¯è¿›è¡ŒæŠ€æœ¯åˆ†æï¼ˆTAï¼‰çš„è¯†åˆ«ï¼Œç„¶ååˆ©ç”¨è¿™äº›æ ‡ç­¾å¾®è°ƒä¸€ä¸ªBERTæ¨¡å‹ï¼ˆTechBERTï¼‰ä»¥è¿›è¡Œå¤§è§„æ¨¡æ¶ˆæ¯åˆ†ç±»ã€‚

#### æŠ€æœ¯åˆ†ææ¶ˆæ¯çš„è¯†åˆ«ä»£ç ç¤ºä¾‹

#### å¤‡æ³¨ï¼šå®Œæ•´ä»£ç è®ºæ–‡å¤ç°è¯·åŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–ã€‚

```
# å®šä¹‰GPT-4åˆ†ç±»å‡½æ•°
def gpt4_classify(message, prompt):
    response = openai.Completion.create(
        engine='gpt-4',
        prompt=prompt.format(message=message),
        max_tokens=10,
        temperature=0
    )
    return response.choices[0].text.strip()

# åˆ›å»ºæ ·æœ¬ç”¨äºå¾®è°ƒBERTæ¨¡å‹
sample_messages = messages.sample(n=20000, random_state=42)
sample_messages['ta_label'] = sample_messages['message'].apply(lambda x: gpt4_classify(
    x,
    prompt="""
ä½ å¯¹ç¤¾äº¤åª’ä½“å’Œé‡‘èå¸‚åœºçš„è¯­è¨€æœ‰æ·±åˆ»ç†è§£ã€‚è¯·åˆ†æä»¥ä¸‹æ¶ˆæ¯ï¼š
"{message}"
è¯·ä»ä¸¤ä¸ªæ–¹é¢è§£ææ¶ˆæ¯ï¼š
1ï¼‰æ˜¯å¦å­˜åœ¨æŠ€æœ¯åˆ†æï¼ˆ0=å¦ï¼Œ1=å¯èƒ½ï¼Œ2=æ˜¯ï¼‰ã€‚
2ï¼‰å¦‚æœä½¿ç”¨äº†æŠ€æœ¯åˆ†æï¼Œå…·ä½“çš„æŠ€æœ¯æŒ‡æ ‡æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆè¾“å‡ºæŒ‡æ ‡æˆ–""å¦‚æœæ— æ³•ç¡®å®šã€‚å¦‚æœå­˜åœ¨å¤šä¸ªä¿¡å·ï¼Œè¯·ç”¨é€—å·åˆ†éš”ï¼‰
è¯·ä»¥JSONæ ¼å¼è¾“å‡ºï¼š{{"technical_analysis": , "technical_indicator": }}ã€‚
"""
))

# å¤„ç†GPT-4çš„è¾“å‡ºï¼Œæå–æ ‡ç­¾
def parse_gpt_output(output):
    try:
        result = eval(output)
        return result.get('technical_analysis', 0)
    except:
        return 0

sample_messages['ta_label'] = sample_messages['ta_label'].apply(parse_gpt_output)

# å¾®è°ƒBERTæ¨¡å‹
from transformers import BertTokenizer, BertForSequenceClassification

tokenizer = BertTokenizer.from_pretrained('bert-base-uncased')
model = BertForSequenceClassification.from_pretrained('bert-base-uncased')

# å‡†å¤‡è®­ç»ƒæ•°æ®
X = list(sample_messages['message'])
y = sample_messages['ta_label'].astype(int).values

# æ–‡æœ¬ç¼–ç 
inputs = tokenizer(X, return_tensors='pt', padding=True, truncation=True, max_length=128)
labels = torch.tensor(y)

# çœç•¥å®é™…è®­ç»ƒè¿‡ç¨‹ï¼Œå‡è®¾æ¨¡å‹å·²å¾®è°ƒå®Œæˆ
```

### åŸºæœ¬é¢åˆ†ææ¶ˆæ¯çš„è¯†åˆ«

ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬è¯†åˆ«ä¸**åŸºæœ¬é¢åˆ†æï¼ˆFAï¼‰** ç›¸å…³çš„æ¶ˆæ¯ã€‚

#### åŸºæœ¬é¢åˆ†ææ¶ˆæ¯çš„è¯†åˆ«ä»£ç ç¤ºä¾‹

#### å¤‡æ³¨ï¼šå®Œæ•´ä»£ç è®ºæ–‡å¤ç°è¯·åŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–ã€‚

```
# ä¸ºFAåˆ†ç±»å®šä¹‰GPT-4æç¤º
def gpt4_classify_fa(message):
    response = openai.Completion.create(
        engine='gpt-4',
        prompt=f"""
ä½ å¯¹ç¤¾äº¤åª’ä½“å’Œé‡‘èå¸‚åœºçš„è¯­è¨€æœ‰æ·±åˆ»ç†è§£ã€‚è¯·åˆ†æä»¥ä¸‹æ¶ˆæ¯ï¼š
"{message}"
è¯·ä»ä¸¤ä¸ªæ–¹é¢è§£ææ¶ˆæ¯ï¼š
1ï¼‰æ˜¯å¦å­˜åœ¨åŸºæœ¬é¢åˆ†æï¼ˆ0=å¦ï¼Œ1=å¯èƒ½ï¼Œ2=æ˜¯ï¼‰ã€‚
2ï¼‰å¦‚æœä½¿ç”¨äº†åŸºæœ¬é¢åˆ†æï¼Œè¯·ä»ä»¥ä¸‹15ä¸ªä¸»é¢˜ä¸­é€‰æ‹©æœ€ç›¸å…³çš„ä¸€ä¸ªï¼š
'æ”¶è´­-åˆå¹¶'ï¼Œ'åˆ†æå¸ˆè¯„çº§'ï¼Œ'èµ„äº§'ï¼Œ'ç ´äº§'ï¼Œ'ä¿¡ç”¨'ï¼Œ'ä¿¡ç”¨è¯„çº§'ï¼Œ'è‚¡æ¯'ï¼Œ'æ”¶ç›Š'ï¼Œ'è‚¡ç¥¨è¡ŒåŠ¨'ï¼Œ'æŠ•èµ„è€…å…³ç³»'ï¼Œ'åŠ³å·¥é—®é¢˜'ï¼Œ'è¥é”€'ï¼Œ'ç›®æ ‡ä»·'ï¼Œ'äº§å“-æœåŠ¡'ï¼Œ'æ”¶å…¥'ã€‚
è¯·ä»¥JSONæ ¼å¼è¾“å‡ºï¼š{{"fundamental_analysis": , "fundamental_topic": }}ã€‚
""",
        max_tokens=10,
        temperature=0
    )
    return response.choices[0].text.strip()

# åº”ç”¨åˆ°æ ·æœ¬æ¶ˆæ¯
sample_messages['fa_label'] = sample_messages['message'].apply(gpt4_classify_fa)

# å¤„ç†GPT-4çš„è¾“å‡ºï¼Œæå–æ ‡ç­¾
def parse_gpt_output_fa(output):
    try:
        result = eval(output)
        return result.get('fundamental_analysis', 0)
    except:
        return 0

sample_messages['fa_label'] = sample_messages['fa_label'].apply(parse_gpt_output_fa)

# å¾®è°ƒBERTæ¨¡å‹è¿›è¡ŒFAåˆ†ç±»ï¼Œè¿‡ç¨‹ç±»ä¼¼äºTAåˆ†ç±»
```

------

## æŠ€æœ¯åˆ†æ

### æ•£æˆ·æŠ€æœ¯ä½¿ç”¨çš„å†³å®šå› ç´ 

æˆ‘ä»¬éªŒè¯è‡ªæˆ‘æŠ¥å‘Šä½¿ç”¨**æŠ€æœ¯**å’Œ**çŸ­æœŸ**äº¤æ˜“çš„ç”¨æˆ·æ›´å€¾å‘äºåœ¨æŠ•èµ„å†³ç­–ä¸­ä½¿ç”¨**æŠ€æœ¯åˆ†æ**ã€‚æˆ‘ä»¬åœ¨è‚¡ç¥¨-æŠ•èµ„è€…-å‘¨å±‚é¢ä¼°è®¡ä»¥ä¸‹å›å½’æ¨¡å‹ï¼š



#### æ•£æˆ·æŠ€æœ¯ä½¿ç”¨çš„å†³å®šå› ç´ ä»£ç ç¤ºä¾‹

#### å¤‡æ³¨ï¼šå®Œæ•´ä»£ç è®ºæ–‡å¤ç°è¯·åŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–ã€‚

```
import statsmodels.api as sm

# å‡†å¤‡å›å½’æ•°æ®
regression_data = pd.DataFrame({
    'ta_usage': ta_usage,  # æ•£æˆ·TAä½¿ç”¨ç‡
    'technical_investor': technical_investor,  # æ˜¯å¦ä¸ºæŠ€æœ¯æŠ•èµ„è€…
    'short_term_investor': short_term_investor,  # æ˜¯å¦ä¸ºçŸ­æœŸæŠ•èµ„è€…
    'professional_investor': professional_investor,  # æ˜¯å¦ä¸ºä¸“ä¸šæŠ•èµ„è€…
    'earnings_news': earnings_news,  # æ”¶ç›Šæ–°é—»
    'analyst_news': analyst_news,  # åˆ†æå¸ˆæ–°é—»
    # æ§åˆ¶å˜é‡
    'control_variables': control_variables
})

# å®šä¹‰è‡ªå˜é‡å’Œå› å˜é‡
X = regression_data[['technical_investor', 'short_term_investor', 'professional_investor', 'earnings_news', 'analyst_news', 'control_variables']]
y = regression_data['ta_usage']

# æ·»åŠ å›ºå®šæ•ˆåº”å’Œå¸¸æ•°é¡¹
X = sm.add_constant(X)
# å‡è®¾æˆ‘ä»¬æœ‰æŠ•èµ„è€…å’Œæ—¶é—´å›ºå®šæ•ˆåº”å˜é‡
......

# å»ºç«‹å›å½’æ¨¡å‹
model = sm.OLS(y, X).fit()

# è¾“å‡ºå›å½’ç»“æœ
print(model.summary())
```

### æ•£æˆ·æŠ•èµ„è€…ä¸AIåœ¨æŠ€æœ¯åˆ†æä¸­çš„æ¯”è¾ƒ

#### æ•£æˆ·æŠ•èµ„è€…æ˜¯å¦ä¸AIåœ¨æŠ€æœ¯åˆ†æä¸­è¾¾æˆä¸€è‡´ï¼Ÿ

æˆ‘ä»¬åœ¨è‚¡ç¥¨-æŠ•èµ„è€…-å‘¨å±‚é¢ä¼°è®¡ä»¥ä¸‹å›å½’æ¨¡å‹ï¼š



#### æƒ…ç»ªä¸AIä¿¡å·å›å½’åˆ†æä»£ç ç¤ºä¾‹

#### å¤‡æ³¨ï¼šå®Œæ•´ä»£ç è®ºæ–‡å¤ç°è¯·åŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–ã€‚

```
# å‡†å¤‡å›å½’æ•°æ®
regression_data = pd.DataFrame({
    'sentiment_ta': sentiment_ta,  # TAæƒ…ç»ª
    'sentiment_nonta': sentiment_nonta,  # éTAæƒ…ç»ª
    'ai_signal': ai_signal,  # AIä¿¡å·
    'return_1d': return_1d,
    'return_1w': return_1w,
    'return_1m': return_1m,
    'return_1q': return_1q,
    'return_1y': return_1y,
    'earnings_news': earnings_news,
    'analyst_news': analyst_news,
    'control_variables': control_variables
})

# å®šä¹‰è‡ªå˜é‡å’Œå› å˜é‡
X = regression_data[['ai_signal', 'return_1d', 'return_1w', 'return_1m', 'return_1q', 'return_1y', 'earnings_news', 'analyst_news', 'control_variables']]
y_ta = regression_data['sentiment_ta']
y_nonta = regression_data['sentiment_nonta']

# æ·»åŠ å›ºå®šæ•ˆåº”å’Œå¸¸æ•°é¡¹
X = sm.add_constant(X)
X = X.join(pd.get_dummies(regression_data['investor_id']))
X = X.join(pd.get_dummies(regression_data['week']))

# å»ºç«‹TAæƒ…ç»ªå›å½’æ¨¡å‹
......

# å»ºç«‹NonTAæƒ…ç»ªå›å½’æ¨¡å‹
model_nonta = sm.OLS(y_nonta, X).fit()
print(model_nonta.summary())
```

#### æ•£æˆ·å’ŒAIæŠ€æœ¯ç­–ç•¥çš„æ”¶ç›Š

æˆ‘ä»¬æ„å»ºåŸºäºæ•£æˆ·TAæƒ…ç»ªå’ŒAIä¿¡å·çš„æŠ•èµ„ç»„åˆï¼Œè®¡ç®—å…¶æ”¶ç›Šã€‚

#### æŠ•èµ„ç»„åˆæ”¶ç›Šè®¡ç®—ä»£ç ç¤ºä¾‹

#### å¤‡æ³¨ï¼šå®Œæ•´ä»£ç è®ºæ–‡å¤ç°è¯·åŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–ã€‚

```
# åˆå¹¶æƒ…ç»ªå’ŒAIä¿¡å·æ•°æ®
portfolio_data = messages[['ticker', 'date', 'sentiment_ta', 'sentiment_nonta']].merge(ai_signals, on=['ticker', 'date'])

# æ ¹æ®TAæƒ…ç»ªå’ŒAIä¿¡å·è¿›è¡Œæ’åº
portfolio_data['ta_sentiment_rank'] = portfolio_data.groupby('date')['sentiment_ta'].rank(method='first')
portfolio_data['ai_signal_rank'] = portfolio_data.groupby('date')['ai_signal'].rank(method='first')

# æ„å»ºå¤šç©ºæŠ•èµ„ç»„åˆ
......

# è®¡ç®—æŠ•èµ„ç»„åˆæ”¶ç›Š
long_returns = long_stocks.groupby('date')['future_return'].mean()
short_returns = short_stocks.groupby('date')['future_return'].mean()
portfolio_returns = long_returns - short_returns

# è®¡ç®—å¹´åŒ–æ”¶ç›Šç‡
annual_return = portfolio_returns.mean() * 52  # æ¯å¹´52å‘¨

print(f'æŠ•èµ„ç»„åˆçš„å¹´åŒ–æ”¶ç›Šç‡ä¸ºï¼š{annual_return:.2%}')
```

### æ•£æˆ·æŠ•èµ„è€…çš„ç¾Šç¾¤è¡Œä¸ºå’ŒæŠ€æœ¯åˆ†æ

æˆ‘ä»¬ç ”ç©¶StockTwitsä¸Šçš„TAæƒ…ç»ªä¸Robinhoodä¸Šçš„ä¹°å…¥ç¾Šç¾¤è¡Œä¸ºçš„å…³ç³»ã€‚

#### ç¾Šç¾¤è¡Œä¸ºå›å½’åˆ†æä»£ç ç¤ºä¾‹

#### å¤‡æ³¨ï¼šå®Œæ•´ä»£ç è®ºæ–‡å¤ç°è¯·åŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–ã€‚

```
# å‡†å¤‡å›å½’æ•°æ®
regression_data = pd.DataFrame({
    'robinhood_herding': robinhood_herding,  # Robinhoodä¹°å…¥ç¾Šç¾¤è¡Œä¸ºæŒ‡æ ‡
    'sentiment_ta': sentiment_ta,  # TAæƒ…ç»ª
    'sentiment_nonta': sentiment_nonta,  # éTAæƒ…ç»ª
    'attention': attention,  # æ³¨æ„åŠ›æŒ‡æ ‡
    'earnings_news': earnings_news,
    'analyst_news': analyst_news,
    'control_variables': control_variables
})

# å®šä¹‰è‡ªå˜é‡å’Œå› å˜é‡
......

# æ·»åŠ å›ºå®šæ•ˆåº”å’Œå¸¸æ•°é¡¹
......

# å»ºç«‹Logitå›å½’æ¨¡å‹
model = sm.Logit(y, X).fit()

# è¾“å‡ºå›å½’ç»“æœ
print(model.summary())
```

------

## åŸºæœ¬é¢åˆ†æå’Œå…¶ä»–ç­–ç•¥

### ä¸åŒç­–ç•¥æƒ…ç»ªçš„æ”¶ç›Šé¢„æµ‹èƒ½åŠ›

æˆ‘ä»¬ç ”ç©¶äº†ä¸åŒç­–ç•¥ç›¸å…³æ¶ˆæ¯çš„**æƒ…ç»ª**å¯¹æœªæ¥è‚¡ç¥¨æ”¶ç›Šçš„é¢„æµ‹èƒ½åŠ›ã€‚

#### ä¸åŒç­–ç•¥æƒ…ç»ªå›å½’åˆ†æä»£ç ç¤ºä¾‹

#### å¤‡æ³¨ï¼šå®Œæ•´ä»£ç è®ºæ–‡å¤ç°è¯·åŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–ã€‚

```
# å‡†å¤‡å›å½’æ•°æ®
regression_data = pd.DataFrame({
    'future_return': future_return,
    'sentiment_ta': sentiment_ta,
    'sentiment_fa': sentiment_fa,
    'sentiment_os': sentiment_os,
    'sentiment_ns': sentiment_ns,
    'attention': attention,
    'earnings_news': earnings_news,
    'analyst_news': analyst_news,
    'control_variables': control_variables
})

# å®šä¹‰è‡ªå˜é‡å’Œå› å˜é‡
......

# æ·»åŠ å›ºå®šæ•ˆåº”å’Œå¸¸æ•°é¡¹
......

# å»ºç«‹å›å½’æ¨¡å‹
model = sm.OLS(y, X).fit()

# è¾“å‡ºå›å½’ç»“æœ
print(model.summary())
```

### StockTwitsæƒ…ç»ªä¸æ•£æˆ·è®¢å•æµ

æˆ‘ä»¬å‘ç°StockTwitsä¸Šçš„**æƒ…ç»ª**ä¸ç›¸åº”è‚¡ç¥¨çš„**æ•£æˆ·äº¤æ˜“æ´»åŠ¨**æ˜¾è‘—ç›¸å…³ã€‚

#### æƒ…ç»ªä¸æ•£æˆ·è®¢å•ä¸å¹³è¡¡å›å½’åˆ†æä»£ç ç¤ºä¾‹

#### å¤‡æ³¨ï¼šå®Œæ•´ä»£ç è®ºæ–‡å¤ç°è¯·åŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–ã€‚

```
# å‡†å¤‡å›å½’æ•°æ®
regression_data = pd.DataFrame({
    'retail_oib': retail_oib,  # æ•£æˆ·è®¢å•ä¸å¹³è¡¡
    'sentiment_ta': sentiment_ta,
    'sentiment_fa': sentiment_fa,
    'sentiment_os': sentiment_os,
    'sentiment_ns': sentiment_ns,
    'attention': attention,
    'earnings_news': earnings_news,
    'analyst_news': analyst_news,
    'control_variables': control_variables
})

# å®šä¹‰è‡ªå˜é‡å’Œå› å˜é‡
......

# æ·»åŠ å›ºå®šæ•ˆåº”å’Œå¸¸æ•°é¡¹
......

# å»ºç«‹å›å½’æ¨¡å‹
model = sm.OLS(y, X).fit()

# è¾“å‡ºå›å½’ç»“æœ
print(model.summary())
```

### æ•£æˆ·ç­–ç•¥å’Œæ•£æˆ·è®¢å•æµä¿¡æ¯å«é‡

æˆ‘ä»¬è¿›ä¸€æ­¥ç ”ç©¶äº†æ•£æˆ·æŠ•èµ„è€…ä½¿ç”¨çš„ç­–ç•¥å¦‚ä½•å½±å“æ•£æˆ·è®¢å•æµçš„**ä¿¡æ¯å«é‡**ã€‚

#### è®¢å•æµä¿¡æ¯å«é‡å›å½’åˆ†æä»£ç ç¤ºä¾‹

#### å¤‡æ³¨ï¼šå®Œæ•´ä»£ç è®ºæ–‡å¤ç°è¯·åŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–ã€‚

```
# å‡†å¤‡å›å½’æ•°æ®
regression_data = pd.DataFrame({
    'future_return': future_return,
    'retail_oib': retail_oib,
    'high_ta_usage': high_ta_usage,  # é«˜TAä½¿ç”¨ç‡æŒ‡æ ‡
    'retail_oib_high_ta': retail_oib * high_ta_usage,
    'attention': attention,
    'earnings_news': earnings_news,
    'analyst_news': analyst_news,
    'control_variables': control_variables
})

# å®šä¹‰è‡ªå˜é‡å’Œå› å˜é‡
X = regression_data[['retail_oib', 'high_ta_usage', 'retail_oib_high_ta', 'attention', 'earnings_news', 'analyst_news', 'control_variables']]
y = regression_data['future_return']

# æ·»åŠ å›ºå®šæ•ˆåº”å’Œå¸¸æ•°é¡¹
X = sm.add_constant(X)
X = X.join(pd.get_dummies(regression_data['week']))

# å»ºç«‹å›å½’æ¨¡å‹
model = sm.OLS(y, X).fit()

# è¾“å‡ºå›å½’ç»“æœ
print(model.summary())
```

------

## ç»“è®º

æœ¬æ–‡åˆ©ç”¨**å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆ\**LLMs\**ï¼‰\**åˆ†æäº†æŠ•èµ„è€…åœ¨\**ç¤¾äº¤åª’ä½“**å¹³å°ä¸Šçš„**äº¤æ˜“ç­–ç•¥**ï¼Œæ­ç¤ºäº†æ•£æˆ·æŠ•èµ„è€…åœ¨**æŠ€æœ¯åˆ†æ**å’Œ**åŸºæœ¬é¢åˆ†æ**ä¸Šçš„å·®å¼‚ã€‚ç ”ç©¶å‘ç°ï¼Œæ•£æˆ·æŠ•èµ„è€…åœ¨æŠ€æœ¯åˆ†æä¸Šçš„**æƒ…ç»ª**å¾€å¾€é”™è¯¯åœ°é¢„æµ‹æœªæ¥æ”¶ç›Šï¼Œè€Œåœ¨åŸºæœ¬é¢åˆ†æä¸Šçš„æƒ…ç»ªåˆ™å…·æœ‰**ä¿¡æ¯æ€§**ã€‚æ­¤å¤–ï¼Œç¤¾äº¤åª’ä½“ä¸Šçš„æŠ€æœ¯åˆ†æè®¨è®ºå¯èƒ½å¯¼è‡´æ•£æˆ·æŠ•èµ„è€…çš„**ç¾Šç¾¤è¡Œä¸º**ï¼Œé™ä½äº†æ•£æˆ·è®¢å•æµçš„**ä¿¡æ¯å«é‡**ã€‚

è¿™äº›å‘ç°å¼ºè°ƒäº†æ•£æˆ·æŠ•èµ„è€…æŠ•èµ„æ–¹æ³•çš„**å¼‚è´¨æ€§**åŠå…¶ä¸åŒç¨‹åº¦çš„**æˆç†Ÿåº¦**ã€‚æˆ‘ä»¬çš„ç ”ç©¶è¡¨æ˜ï¼Œç¤¾äº¤åª’ä½“æƒ…ç»ªå’Œæ•£æˆ·è®¢å•æµçš„ä¿¡æ¯å«é‡æ¯”ä¹‹å‰æ‰€è®¤è¯†çš„æ›´åŠ å¤æ‚ã€‚å½“æ•£æˆ·æŠ•èµ„è€…è¿‡åº¦ä¾èµ–æŠ€æœ¯äº¤æ˜“ç­–ç•¥æ—¶ï¼Œæƒ…ç»ªå’Œè®¢å•æµçš„é¢„æµ‹èƒ½åŠ›ä¼šé™ä½ï¼Œå¯èƒ½å¯¼è‡´äº¤æ˜“çš„**è¿‡åº¦æ‹¥æŒ¤**ã€‚

æˆ‘ä»¬çš„ç ”ç©¶è¿˜æä¾›äº†æ•£æˆ·æŠ•èµ„è€…ä¸åˆ©ç”¨å¼ºå¤§AIç­–ç•¥çš„é«˜çº§äº¤æ˜“è€…ä¹‹é—´äº’åŠ¨çš„æ–°è§è§£ã€‚å‘ç°æœ€å…ˆè¿›çš„ã€å…·æœ‰é«˜ç›ˆåˆ©æ€§çš„**AIæŠ€æœ¯åˆ†æç­–ç•¥**ä¸»è¦é€šè¿‡ä¸StockTwitsä¸Šçš„æŠ€æœ¯æƒ…ç»ªç›¸åçš„äº¤æ˜“è·åˆ©ã€‚è¿™è¡¨æ˜ï¼ŒæŠ•èµ„è€…åœ¨æœ‰æ•ˆåˆ©ç”¨æŠ€æœ¯ä¿¡å·æ–¹é¢çš„**èƒ½åŠ›å·®å¼‚**åœ¨å†³å®šé‡‘èå¸‚åœºçš„èµ¢å®¶å’Œè¾“å®¶æ–¹é¢èµ·ç€å…³é”®ä½œç”¨ã€‚

éšç€AIç»§ç»­é‡å¡‘æŠ•èµ„æ ¼å±€ï¼Œç¤¾äº¤åª’ä½“å¯èƒ½åŠ å‰§è¿™ç§ä¸å¹³è¡¡ï¼Œå¯¹å¸‚åœº**å…¬å¹³æ€§**å’Œ**å®Œæ•´æ€§**çš„æ‹…å¿§å˜å¾—æ›´åŠ ç´§è¿«ã€‚æˆ‘ä»¬çš„ç ”ç©¶ç»“æœä¸ºé‡‘èå¸‚åœºä¸­AIç›‘ç®¡å’ŒæŠ•èµ„ç›¸å…³ç¤¾äº¤åª’ä½“å¹³å°çš„ç›‘ç£æä¾›äº†**æ”¿ç­–è®¨è®º**çš„ä¾æ®ã€‚

------

## å‚è€ƒæ–‡çŒ®

- â€¢ **Barber, B. M., Huang, X., Jin, L., & Liu, G. (2022).** Attention Induced Trading and Returns: Evidence from Robinhood Users. *Journal of Finance*, 77(6), 2633-2672.
- â€¢ **Boehmer, E., Jones, C. M., Zhang, X., & Zhang, X. (2021).** Tracking Retail Investor Activity. *Journal of Finance*, 76(5), 2249-2305.
- â€¢ **Cookson, J. A., & Niessner, M. (2020).** Why Don't We Agree? Evidence from a Social Network of Investors. *Journal of Finance*, 75(1), 173-228.
- â€¢ **Jiang, J., Kelly, B., & Xiu, D. (2023).** Empirical Technical Analysis: The Case of the Moving Average. *Journal of Financial Economics*, 147(2), 324-343.
- â€¢ **Dou, W., Ji, Y., Wu, W., & Xiong, W. (2024).** Reshaping Financial Markets: AI-Driven Investment and Its Challenges. *Journal of Financial Economics*, 152(2), 273-297.

------

*æ³¨ï¼šæœ¬æ–‡æ—¨åœ¨ä»‹ç»å­¦æœ¯è®ºæ–‡ã€ŠWisdom or Whims? Decoding Investor Trading Strategies with Large Language Modelsã€‹çš„ä¸»è¦å†…å®¹ï¼Œæ‰€æœ‰å…¬å¼å’Œç¬¦å·å‡ä¸åŸæ–‡ä¿æŒä¸€è‡´ã€‚*

#### å¸Œæœ›æœ¬ç¯‡æ–‡ç« èƒ½ä¸ºå¤§å®¶å¸¦æ¥AI+Quantçš„å¯å‘ï¼Œæ¬¢è¿åŠ å…¥LLMQuantç¤¾åŒºè·å¾—æ›´åŠ æˆç†Ÿäº¤æµå’Œæ¢è®¨ï¼

#### è®ºæ–‡PDFå’Œå®Œæ•´ä»£ç å¤ç°è¯·åŠ å…¥çŸ¥è¯†æ˜Ÿçƒè·å–ã€‚ä»¥ä¸Šç¤ºä¾‹ / ä»£ç ä»…ä¾›å­¦ä¹ å’Œå‚è€ƒï¼Œå®é™…åº”ç”¨ä¸­éœ€è€ƒè™‘æ›´å¤šå› ç´ å’Œç»†èŠ‚ã€‚

------

## ğŸŒŸ æ¯å¤©2å…ƒï¼ŒåŠ å…¥çŸ¥è¯†æ˜Ÿçƒä½ å°†è·å¾—ï¼š

### â¤ï¸ ä½“ç³»åŒ–çŸ¥è¯†æ•´ç†

**æˆ‘ä»¬ç”¨å¿ƒåˆ†äº«çŸ¥è¯†ï¼Œæä¾›ç”±æµ…å…¥æ·±çš„ä½“ç³»åŒ–èµ„æ–™ã€‚**

### ğŸ”¥ å†…å®¹

**2024æœ€æ–°è®ºæ–‡ä»£ç å¤ç°ï½œäº¤æ˜“ç­–ç•¥å­¦ä¹  ï½œå…¥é—¨èµ„æ–™ï½œè¿›é˜¶èµ„æ–™ï½œè¡ç”Ÿå“èµ„æ–™ï½œé¡¶çº§åæ ¡é‡åŒ–ç¬”è®° ï½œæŠ•èµ„ç²¾é€‰æ–°é—»ï½œé‡åŒ–å‰æ²¿è¶‹åŠ¿ï½œä¼˜è´¨å¥½ä¹¦ï½œäººç‰©ä¸“è®¿ ï½œé‡åŒ–å¤§ç¤¼åŒ…**

### ğŸ’» ç­–ç•¥è¯¦è§£ï¼š

**è·å–é‡åŒ–ç­–ç•¥æ¨¡å‹å®Œæ•´ä»£ç ï¼Œæ”¯æŒå¤šå¹³å°å›æµ‹ï¼Œæå‡ä½ çš„å®æˆ˜èƒ½åŠ›ã€‚**

### â“ å…è´¹ç­”ç–‘ï¼š

**æ¥è‡ªå‰‘æ¡¥å¤§å­¦ï¼Œå¯¹å†²åŸºé‡‘åœ¨èŒç ”ç©¶å‘˜æ¯æ—¥è§£ç­”ç¤¾åŒºæˆå‘˜é—®é¢˜ï¼Œé«˜æ•ˆæå‡ä½ çš„çŸ¥è¯†æ°´å¹³ã€‚**

![å›¾ç‰‡](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„çŸ¥è¯†æ˜Ÿçƒï¼Œå’Œå…¨çƒç²¾è‹±ä¸€èµ·æ¢ç´¢äººå·¥æ™ºèƒ½ä¸é‡åŒ–é‡‘èçš„æ— é™å¯èƒ½ï¼ğŸš€âœ¨



é˜…è¯» 1053



![img](http://mmbiz.qpic.cn/sz_mmbiz_png/qBzr3KbhAjjk0ibwhcF0TOAXjGD7BGk5BoibibrTvpeQQxlgP4692tXiaRDGuDj6rc6sAUXqOKVwEe6wU7WZpp1NJg/300?wx_fmt=png&wxfrom=18)
